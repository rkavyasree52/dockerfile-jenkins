node {
 stage("push the docker image to repository"){
     def getTimeStamp(){
    return sh (script: "date +'%Y%m%d%H%M%S%N' | sed 's/[0-9][0-9][0-9][0-9][0-9][0-9]\$//g'", returnStdout: true);
}
                    sh("eval \$(aws ecr get-login --no-include-email --region us-east-2 | sed 's|https://||')")
                    sh "docker tag  :latest 552326470498.dkr.ecr.us-east-2.amazonaws.com/carn/csr-portal-api-0.0.1:getTimeStamp()"
                    sh "docker push 552326470498.dkr.ecr.us-east-2.amazonaws.com/cary/csr-portal-api-0.0.1:getTimeStamp"
                }
}